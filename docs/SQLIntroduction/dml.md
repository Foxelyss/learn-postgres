---
title: DML
nav_order: 2
layout: default
parent: Введение в SQL
---
# Data Manipulation Language -  язык манипуляции данных


## Команды

### `insert` -  внесение данных построчно
#### Операторы команды
- into -  для определения таблицы-получателя
- values - определения значений

```sql
insert into ИДТ(ИДС, ИДС...) values ('значение1',2,3...);
```

Правила порядка записи:

1. Можно указывать часть столбцов
2. Столбцы с определением not null должны быть обязательно указаны
3. Можно менять столбцы местами
4. Если не указано, то порядок как в таблице

Способы заполнения таблицы:
1. Построчно
```sql
insert into test(ИДС, ИДС...) values (1, 'значение1',2,3...);
```
2. По несколько строк
```sql
insert into ИДТ(ИДС, ИДС...) values 
('значение1',2,3...),
('значение1',2,3...);
```
3. Перенос данных из одной таблицы в другую
```sql
-- В существующую таблицу
insert into ИДТ-Н(ИДС, ИДС...)
select ИДС, ИДС... from ИДТ;
-- Когда таблицы не существует
select ИДС, ИДС... into ИДТ-Н from ИДТ ;
```

### `update` - обновление данных

Выполняется в два действия:
1. Удаление старого значение
2. Вставляет новое значение

**Update работает по столбцу**

Операторы:
- set - указываются столбцы, в которых нужно обновить значение
- where - указывается в какой строке нужно изменить данные

Общий вид:
```sql
update ИДТ
set ИДС=значение
where условие;
```

Пример:
```sql
update students
set name='Иван'
where id = 3;
```


1 update =  одна таблица

Максимальное количество изменений равно количеству столбцов в таблице

Что мы можем использовать в set?

1. Присвоение
```sql 
set id = 3
```
1. Математические операции
```sql
set salary = salary + 100 -- Умножение *, деление /, сумма +, разность -
```
1. Прибавление символьных данных
```sql
set name = name || 'Абитуруент'
```
1. Добавлять и удалять процент от числа
```sql
set salary = salary *(1.0 - 0.1) -- 10%
```
1. Подзапрос
2. Агрегированная функция

Что мы можем использовать в where?

Виды условий:

1. Сравнительный = >= <= !=

Логические операторы(в порядке приоритета):
1. `()` 
2. `not` - отрицание
3. `or` - логическое или
4. `and` - логическое и

Логические операторы позволяют определять порядок проверок

Как работает where если условий несколько?

По методу отсеивания
Если 2 условия, то 1 условие будет применятся к исходной таблице, а второе к срезу таблицы, который прошёл первую проверку.


### `delete` - удаление данных

Общий вид:
```sql
delete from ИДТ
where условие
```

Удаляет построчно.

Удаляет только одна таблица.

Операторы
1. from - указывает на таблицу
2. where - указывает какую строку/и удалять